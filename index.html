<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CACOFF - Cabinet de Conseil</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/htmx.org@1.9.2"></script>
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <!-- ...tailwind cinfigurations... -->
    <script>
    tailwind.config = {
        theme: {
        extend: {
            colors: {
            primary: { DEFAULT: '#22c55e', light: '#bbf7d0', dark: '#166534', },
            gray: { 900: '#18181b', 700: '#374151', 100: '#f3f4f6', },
            },
            fontFamily: {
            sans: ['Inter', 'ui-sans-serif', 'system-ui'],
            },
        }
        }
    }
    </script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body class="text-gray-800">

  <div id="header" hx-get="components/header.html" hx-trigger="load"></div>
  <div hx-get="components/banner.html" hx-trigger="load"></div>
  <div hx-get="components/about.html" hx-trigger="load"></div>
  <div hx-get="components/services.html" hx-trigger="load"></div>
  <div hx-get="components/values.html" hx-trigger="load"></div>
  <div hx-get="components/footer.html" hx-trigger="load"></div>

  <!-- JS pour offcanvas menu -->
  <script>
    document.body.addEventListener('htmx:afterSwap', function () {
      const menuBtn = document.getElementById('menu-btn');
      const closeBtn = document.getElementById('close-menu');
      const mobileMenu = document.getElementById('mobile-menu');

      if (!menuBtn || !closeBtn || !mobileMenu) return;

      menuBtn.onclick = () => mobileMenu.classList.remove('hidden');
      closeBtn.onclick = () => mobileMenu.classList.add('hidden');
      mobileMenu.onclick = (e) => {
        if (e.target === mobileMenu) mobileMenu.classList.add('hidden');
      };
    });
  </script>
    <!-- ........JS for Offcanvas open & close.......  -->
    <script>
    document.body.addEventListener('htmx:afterSwap', () => {
        const menuBtn = document.getElementById('menu-btn');
        const closeBtn = document.getElementById('close-menu');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuPanel = document.getElementById('mobile-menu-panel');

        if (!menuBtn || !closeBtn || !mobileMenu || !menuPanel) return;

        menuBtn.onclick = () => {
        mobileMenu.classList.remove('hidden');
        setTimeout(() => {
            menuPanel.classList.remove('-translate-x-full');
            menuPanel.classList.add('translate-x-0');
        }, 10);
        }; 

        const closeMenu = () => {
        menuPanel.classList.remove('translate-x-0');
        menuPanel.classList.add('-translate-x-full');
        setTimeout(() => {
            mobileMenu.classList.add('hidden');
        }, 300);
        };

        closeBtn.onclick = closeMenu;
        mobileMenu.onclick = (e) => {
        if (e.target === mobileMenu) closeMenu();
        };
    });
    </script>
    <!-- ..js for banner... -->
<script>
  document.body.addEventListener('htmx:afterSwap', () => {
    const slides = document.getElementById('slides');
    const total = 3;
    let current = 0;

    const goToSlide = (index) => {
      slides.style.transform = `translateX(-${index * 100}%)`;
      current = index;

      const currentSlide = slides.children[index];
      const animatedElements = currentSlide.querySelectorAll('.animate-fade-in-up');
      animatedElements.forEach(el => {
        el.classList.remove('animate-fade-in-up');
        void el.offsetWidth;
        setTimeout(() => {
          el.classList.add('animate-fade-in-up');
        }, 20);
      });
    };

    document.getElementById('prevSlide').onclick = () => {
      const nextIndex = (current - 1 + total) % total;
      goToSlide(nextIndex);
    };

    document.getElementById('nextSlide').onclick = () => {
      const nextIndex = (current + 1) % total;
      goToSlide(nextIndex);
    };

    setInterval(() => {
      const nextIndex = (current + 1) % total;
      goToSlide(nextIndex);
    }, 8000);

    goToSlide(0);
  });

document.body.addEventListener('htmx:afterSwap', () => {
  const slides = document.getElementById('slides');
  const total = 3;
  let current = 0;

  const indicators = document.querySelectorAll('#carousel-indicators button');

  const goToSlide = (index) => {
    slides.style.transform = `translateX(-${index * 100}%)`;
    current = index;

    indicators.forEach((btn, i) => {
      btn.classList.toggle('bg-white/70', i === index);
      btn.classList.toggle('bg-white/40', i !== index);
    });

    const currentSlide = slides.children[index];
    const animatedElements = currentSlide.querySelectorAll('.animate-fade-in-up');
    animatedElements.forEach(el => {
      el.classList.remove('animate-fade-in-up');
      void el.offsetWidth;
      setTimeout(() => {
        el.classList.add('animate-fade-in-up');
      }, 20);
    });
  };

  document.getElementById('prevSlide')?.addEventListener('click', () => {
    const nextIndex = (current - 1 + total) % total;
    goToSlide(nextIndex);
  });

  document.getElementById('nextSlide')?.addEventListener('click', () => {
    const nextIndex = (current + 1) % total;
    goToSlide(nextIndex);
  });

  indicators.forEach((btn, i) => {
    btn.onclick = () => goToSlide(i);
  });

  setInterval(() => {
    const nextIndex = (current + 1) % total;
    goToSlide(nextIndex);
  }, 8000);

  goToSlide(0);
});
</script>
<!-- ...AOS ... -->
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>
  AOS.init({
    duration: 800,
    once: true 
  });
</script>
</body>
</html>
